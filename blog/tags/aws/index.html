<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">3 posts tagged with &quot;aws&quot; | Intellectus Data Fabric</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://experimenting-to-learn.github.io/publication/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://experimenting-to-learn.github.io/publication/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://experimenting-to-learn.github.io/publication/blog/tags/aws"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="3 posts tagged with &quot;aws&quot; | Intellectus Data Fabric"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/publication/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://experimenting-to-learn.github.io/publication/blog/tags/aws"><link data-rh="true" rel="alternate" href="https://experimenting-to-learn.github.io/publication/blog/tags/aws" hreflang="en"><link data-rh="true" rel="alternate" href="https://experimenting-to-learn.github.io/publication/blog/tags/aws" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/publication/blog/rss.xml" title="Intellectus Data Fabric RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/publication/blog/atom.xml" title="Intellectus Data Fabric Atom Feed"><link rel="stylesheet" href="/publication/assets/css/styles.f9750312.css">
<script src="/publication/assets/js/runtime~main.6ed89741.js" defer="defer"></script>
<script src="/publication/assets/js/main.d4256942.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/publication/"><div class="navbar__logo"><img src="https://cdn.imweb.me/thumbnail/20230428/9591963aea4f7.png" alt="Intellectus Data Fabric Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://cdn.imweb.me/thumbnail/20230428/9591963aea4f7.png" alt="Intellectus Data Fabric Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Intellectus Data Fabric</b></a><a class="navbar__item navbar__link" href="/publication/docs/knowledge-to-act/intro">API to act</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/publication/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/experimenting-to-learn/publication" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/publication/blog/the-importance-of-data-catalog-in-a-data-platform">데이터 플랫폼에서 Data Catalog의 중요성</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/publication/blog/semantic-search-with-vector-and-graph">Graph DB에 Vector 를 통합하여 Semantic Search 구현하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/publication/blog/iam-role-anywhere">AWS에서 Roles Anywhere로 credential 관리 대체하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/publication/blog/dev-with-serverless">Serverless</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/publication/blog/codecatalyst-with-lambda">CodeCatalyst로 개발환경 구축하기</a></li></ul></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>3 posts tagged with &quot;aws&quot;</h1><a href="/publication/blog/tags">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/publication/blog/iam-role-anywhere">AWS에서 Roles Anywhere로 credential 관리 대체하기</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-07T00:00:00.000Z">December 7, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://media.licdn.com/dms/image/C5603AQHOMis43w0DAg/profile-displayphoto-shrink_800_800/0/1516981037640?e=1708560000&amp;v=beta&amp;t=ElMa_AwBQlIENJNWQpFo-UWEYR54DkOLQ3eEFv_RfZc" alt="Eunho"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer"><span>Eunho</span></a></div><small class="avatar__subtitle">Software Engineer @ Intellectus</small></div></div></div></div></header><div class="markdown"><p><a href="httphttps://docs.aws.amazon.com/rolesanywhere/latest/userguide/introduction.html" target="_blank" rel="noopener noreferrer">AWS IAM Roles Anywhere</a>는  AWS 내에서 Role을 이용해서 임시 credential을 사용하는 것과 동일하게, 외부에서도 Role을 이용해서 임시 credential을 이용해서 AWS내의 자원을 사용할 수 있도록 한다. IAM User에 credential을 생성하여 프로그램 환경 변수나 aws CLI config 사용하는 것과 비교 했을 때 보안이 강화된다. 또한, Devfile 과 같은 개발 환경 자동화 도구를 통합하여 개별 개발자가 복잡한 개발환경 설정에서 자유로워 진다.</p>
<p>Roles Anywhere 설정하고 <a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/devenvironment.html" target="_blank" rel="noopener noreferrer">Dev Environments in CodeCatalyst</a> 인스턴스에 적용하는 예를 통해서 구현 방법에 대해서 알아본다.</p>
<ul>
<li><strong>전체 흐름</strong></li>
<li><strong>AWS Private Certificate Authority를 이용한 사설 인증서(Private certificate) 발급</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-private-certificate-authority를-이용한-사설-인증서private-certificate-발급">AWS Private Certificate Authority를 이용한 사설 인증서(Private certificate) 발급<a class="hash-link" aria-label="Direct link to AWS Private Certificate Authority를 이용한 사설 인증서(Private certificate) 발급" title="Direct link to AWS Private Certificate Authority를 이용한 사설 인증서(Private certificate) 발급" href="/publication/blog/tags/aws#aws-private-certificate-authority를-이용한-사설-인증서private-certificate-발급">​</a></h2>
<p>openssl을 이용해서 직접 사설 인증서를 발급하고 IAM &gt; Roles &gt; Roles Anywhere &gt; Create a trust anchor 에서 직접 입력하는 방법도 있지만, 여기서는 사설 인증서를 관리할 수 있는 <a href="https://docs.aws.amazon.com/privateca/latest/userguide/PcaWelcome.html" target="_blank" rel="noopener noreferrer">AWS Private Certificate Authority</a>를 이용한다.</p>
<p>먼저 사설 인증서를 발급하기 위해서 CA(인증 기관)을 생성한다.</p>
<p><img decoding="async" loading="lazy" alt="create-a-private-CA" src="/publication/assets/images/create-a-private-CA-79d6fc21f62e6f4f8830420c7b22c7a9.png" width="3231" height="915" class="img_ev3q"><em>AWS Private Certificate Authority &gt; Private certificate authorities</em></p>
<p><img decoding="async" loading="lazy" alt="create-CA-form-part1" src="/publication/assets/images/pca-part1-8a99507d4ddc727fa97ec14f3ff64a3f.png" width="3056" height="1859" class="img_ev3q"><em>Mode: General-purpose | Type: Root</em>
<img decoding="async" loading="lazy" alt="create-CA-form-part2" src="/publication/assets/images/pca-part2-7e20fffe99d44bce93c08a5aa43aaf43.png" width="2214" height="2475" class="img_ev3q"><em>CSR</em>
<img decoding="async" loading="lazy" alt="create-CA-form-part3" src="/publication/assets/images/pca-part3-4104b6aeb8c2f81f47ea14f538fd8350.png" width="3058" height="1447" class="img_ev3q"><em>algorithm: RSA 2048</em></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/aws">aws</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/cloud-native-develop">cloud-native-develop</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/iam">IAM</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/role-anywhere">RoleAnywhere</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/publication/blog/dev-with-serverless">Serverless</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-05T00:00:00.000Z">December 5, 2023</time> · <!-- -->15 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://media.licdn.com/dms/image/C5603AQHOMis43w0DAg/profile-displayphoto-shrink_800_800/0/1516981037640?e=1708560000&amp;v=beta&amp;t=ElMa_AwBQlIENJNWQpFo-UWEYR54DkOLQ3eEFv_RfZc" alt="Eunho"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer"><span>Eunho</span></a></div><small class="avatar__subtitle">Software Engineer @ Intellectus</small></div></div></div></div></header><div class="markdown"><p>Serverless 방식이 추구하는 성과는 충분히 설득력이 있다. 유지보수와 변경관리를 쉽게 만들고, 운영 환경에서의 자원 관리를 효율성을 높인다. 이 성과를 취하기 위해서는 변화를 수용해야 한다.
경험에 비추어 봤을 때, 팀 단위로 움직이고 있는 프로젝트에서는 변화의 정도에 비례하여 저항이 발생한다.
Serverless 방식이 제공하는 구조적인 장점을 온전히 취하면서, 프로젝트에 환경에 맞게 최적화 하는 일은 기존에 동작하고 있는 업무 프로세스의 성숙도가 높을수록 큰 저항이 발생할 가능성이 높다.</p>
<p>이 글은 개별 엔지니어의 생산성을 넘어서 프로젝트 혹은 팀의 생산성과 성과에 대해 고민하고 있는 소프트웨어 엔지니어들과 나누고 싶은 이야기이다.</p>
<p>코드 작성에 사용하는 툴이나 프로그래밍 언어, 혹은 새로운 개발 프레임워크의 도입은 Serverless 방식을 온전히 적용하는 것에 비하면 단순한 변화라 할 정도다.
이 포스트에서 경험을 바탕으로 다음의 주제에 대해서 생각을 나눠 보고자 한다:</p>
<ul>
<li><strong>왜 Serverless 방식을 선택해야 할까?</strong></li>
<li><strong>바꿔야 하는 것들</strong></li>
<li><strong>주어진 비즈니스 환경에서 성공에 기여하기 위한 소프트웨어 개발 전략과 기술적인 구현 사례</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="왜-serverless-방식을-선택해야-할까">왜 Serverless 방식을 선택해야 할까?<a class="hash-link" aria-label="Direct link to 왜 Serverless 방식을 선택해야 할까?" title="Direct link to 왜 Serverless 방식을 선택해야 할까?" href="/publication/blog/tags/aws#왜-serverless-방식을-선택해야-할까">​</a></h2>
<p>왜 해야 하는지  따라서 어떻게 할 것인가가 결정된다.</p>
<p>소프트웨어 업계에서 &#x27;No Silver Bullet&#x27;<sup><a id="user-content-fnref-1-201878" data-footnote-ref="true" aria-describedby="footnote-label" href="/publication/blog/tags/aws#user-content-fn-1-201878">1</a></sup>은 널리 알려진 명제이다. 특정 관점에서 우월할 수 있는 어떤 선택도 다른 관점과 상충(trade-off) 되는 경우는 매우 흔하다.
무엇보다도 소프트웨어 시스템은 순수 창작물이 아니라 비즈니스를 지원하고 혁신하기 위해 사용되기 때문에 비즈니스 환경 변화에 따라 적응해야 하는 것은 필연적이다.
이러한 특성에 비추어 Serverless 방식의 도입의 이유는 단순하고 직관적이다. 비즈니스 환경의 움직임을 자동차와 비교하면 이 생태계는 항상 accelerator-pedal을 힘껏 밟고 있다.
단순히 특정 방향으로 움직이고 있는것이 아니라 항상 가속을 하고 있는 것이다. 역사적으로 이 위태로워 보이는 질주를 지속하는 방법은 감속 장치((brake))를 발전시키는 것이 아니라, 더 단단한 섀시(chassis)와 스테빌라이저(stabilizer)를 보완하면서 동시에 더 빠른 가속 장치를 추가하는 것이다. Serverless 방식은 새로운 가속 장치이다.</p>
<p>산업 현장에서는 소프트웨어 시스템을 활용해서 비즈니스 기회를 확장하고 실행을 가속화 하고있다. 소프트웨어 제품의 구현과 유지보수도 이러한 속도에 발을 맞춰야 한다. 이 변화는 이미 정립된 기술 분야의 연속적인 발전으로는 설명하기 힘들다. 이 변화의 속도는 구조적인 진화에서 비롯된 것이다.</p>
<p>소프트웨어를 기초로 인터넷을 통해 연결된 디지털 세계는 비즈니스의 한 관점에서 보면 일종의 실험실이다. 위험(risk)를 효과적으로 관리 하면서 구상하고 있는 비즈니스를 실증하고 동작시켜볼 수 있는 기회다. 시장 경쟁 구도 속에서 이 실험을 얼마나 효율적으로 실행하고 효과를 극대화 하느냐 하는 것이 비즈니스의 경쟁력에 영향을 미친다. 개별 실험들은 시스템화 되면서 체계적으로 조직되어 개별 실험의 생명 주기는 더 빨라지고, 데이터로 확인된 기회들은 비즈니스 가치로 변환된다. 소프트웨어 개발, 즉 구현 관점에서는 실질적으로 동작하여 사용자에게 전달될 수 있는 소프트웨어 제품들이 이러한 프로세스에 맞춰 공급돼야 한다. 빨리 만들어서 사용자에게 공개 해야 하는 것이다.</p>
<p>일정 수준 이상 품질의 소프트웨어를 개발하는 역량은 개별 엔지니어의 역량과 밀접한 관련성이 있을 수 있다. 하지만 프로젝트의 규모가 일정 수준 이상 커지면 개인의 역량으로는 제어할 수 없는 위험 요소들이 생긴다. 그 중 한가지가 제품을 배포하고 변경을 관리하는 부분이다. 소프트웨어의 본질적인 속성에 의해 소프트웨어는 지속적으로 변경된다. 이 속성은 비즈니스 환경의 변화를 수용할 수 있는 기초가 되기도 한다. 문제는 이 변경이 동작하고 있는 제품과 지원하고 있는 비즈니스 성과에 영향을 미치는 위험 요소라는 것이다. 개발 과정에서 발견되지 못한 프로그램 오류나 기대하지 않은 부작용(side effects)과 같은 현상을 개별 엔지니어의 역량 만으로 통제 하는 것은 불가능한 일이다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="바꿔야-하는-것들">바꿔야 하는 것들<a class="hash-link" aria-label="Direct link to 바꿔야 하는 것들" title="Direct link to 바꿔야 하는 것들" href="/publication/blog/tags/aws#바꿔야-하는-것들">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="운영-환경코드가-최종적으로-동작하는-환경에서-개발하기">운영 환경(코드가 최종적으로 동작하는 환경)에서 개발하기<a class="hash-link" aria-label="Direct link to 운영 환경(코드가 최종적으로 동작하는 환경)에서 개발하기" title="Direct link to 운영 환경(코드가 최종적으로 동작하는 환경)에서 개발하기" href="/publication/blog/tags/aws#운영-환경코드가-최종적으로-동작하는-환 경에서-개발하기">​</a></h3>
<p>코드를 작성한 개발자가 확인해야 하는 것은 이 코드가 실제 사용자의 요청을 제대로 처리할 수 있는가 하는 것이다. 소프트웨어가 놀라울 정도로 잘 작동하기 때문에 사람들은 종종 실체적 복잡성과 위험에 대해 잘 생각하지 않는 듯 하다. 개발 환경에서 실행한 빌드의 결과와 배포 과정에서 실행한 빌드의 결과는 정말 같을까? 개발 환경의 느슨한 보안 정책으로 인해 잘 동작하던 외부 API연동은 운영 환경에서도 당연히 문제 없이 동작할까? 프로그램이 참조하고 있는 특정 환경 변수의 값은 내 컴퓨터의 메모장에만 존재하는 것은 아닐까? 컨테이너 기술의 보급은 큰 의미가 있는 진보이다. 작성된 코드가 최종적으로 사용자에 의해 사용될 수 있도록 만들기 위한 모든 단계에서 위험성을 제어할 수 있는 기반을 마련했다.</p>
<p>Serverless 방식을 고려 한다면 운영 환경은 일반적으로 클라우드 서비스가 제공한다. 클라우드 서비스에서 동작하는 개발 환경이 필요하고, 상당히 잦은 주기로 로컬 개발 환경의 작업물이 동기화 되고 테스트 케이스의 실행 결과를 확인할 수 있어야 한다. 여기에 더해서 Serverless 어플리케이션의 주요 전략 중 하나가 상태 관리의 책임을 분리하는 stateless라는 것을 생각 해 본다면, 상태를 관리하는 어떤 컴포넌트와의 연동이 필요할 것이다. 우리의 경험을 통해서 제안하고자 하는 방법은 클라우드 환경에 개별 소프트웨어 엔지니어를 위한 개발 환경을 제공하는 것이다. <a href="https://github.com/features/codespaces" target="_blank" rel="noopener noreferrer">github에서 제공하는 Codespaces</a>와 <a href="https://aws.amazon.com/codecatalyst/" target="_blank" rel="noopener noreferrer">AWS의 CodeCatalyst</a>와 같은 서비스가 좋은 대  안이다. 우리 팀은 개발과 운영 환경으로 사용하고 있는 AWS와 더 쉬운 통합을 위해 CodeCatalyst를 선택했다.</p>
<ul>
<li><a href="/publication/blog/codecatalyst-with-lambda">CDE (Cloud Development Environment)에서 개발하고 자동으로 배포하기: Amazon CodeCatalyst 와 AWS Lambda 이용</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="주어진-비즈니스-환경에서-성공에-기여하기-위한-소프트웨어-개발-전략과-기술적인-구현-사례">주어진 비즈니스 환경에서 성공에 기여하기 위한 소프트웨어 개발 전략과 기술적인 구현 사례<a class="hash-link" aria-label="Direct link to 주어진 비즈니스 환경에서 성공에 기여하기 위한 소프트웨어 개발 전략과 기술적인 구현 사례" title="Direct link to 주어진 비즈니스 환경에서 성공에 기여하기 위한 소프트웨어 개발 전략과 기술적인 구현 사례" href="/publication/blog/tags/aws#주어진-비즈니스-환경에서-성공에-기여하기-위한-소프트웨어-개발-전략과-기술적인-구현-사례">​</a></h2>
<p>Poc(Proof of concept) 수행의 목적은 &#x27;만들어보는 것&#x27;이 아니라, 본격적인 비즈니스 모델의 실현에 진입하기 전에 비즈니스 모델의 가설을 데이터를 통해 검증하는 것이다. 동작하는 시스템을 통해 이해당사자 또는 불특정 사용자에게 아이디어를 노출시켜 피드백을 수집하고 분석하는 일이다. 이 과정은 빠르고 효율적이어야 한다. 또 한번 강조하고 싶은 것은 구현하는 것 자체가 목적이 아니라 아이디어에 대한 데이터를 확보하는 것이 진짜 목적이라는 것이다.</p>
<p>이러한 작업의 반복은 생각보다 유쾌하지 않다. 단순한 기능이 아니라 단 하나라도 비즈니스 시나리오를 실행할 수 있어야 한다. 유의미한 데이터를 확보하기 위해서는 시장에서의 비교 우위를 주장할 수 있 을 정도는 아니더라도 일반 사용자들이 일정 시간 머물면서 써볼 수 있을 정도는 돼야 한다. 트래픽이 어느정도 발생해야 데이터에 대한 해석이 가치가 있게 되는 경우들도 있기에 특정 목적의 마케팅이나 홍보 같은 활동을 진행할 수 있도록 시스템이 지속적으로 운영돼야 한다. 아직 비즈니스 모델 전체가 작동하지 않는 상황에서 아주 작은 자원들 일지라도 비용은 무시할 수 없다.</p>
<p>이미 알려진 많은 성공 사례에서 민첩하게 비즈니스를 서포트하는 시스템을 어떻게 개발하면 좋은지에 대해서 이야기하고 있지만, 잘 생각해 보면 그런 이야기들은 성공했기 때문에 성립되는 논리 인 경우가 많다. 현실은 아이디어를 아무리 잘 구현해서 치열한 논의 끝에 결정한 우리 브랜드의 도메인에 연결시켜 공개해도 아무일도 일어나지 않는다는 것이다. 팀 내부의 여러 가설을 증명하기 위해 테스트용 트래픽을 발생시키는 또 다른 개발을 하거나, 계속 쏟아져 나오는 여러 개발 및 운영 도구들을 찾아보면서 어떻게 적용시켜야 할지를 고민하면서 스크립트를 작성해야 한다.</p>
<p>그래서 필요한 것은 시간이다. 필요한 구현체를 더 빨리 만들어내고, 또 필요한 무언가를 해야 할 시간 동안 발생하는 비용을 줄이면 무언가를 할 수 있는 시간이 생긴다.</p>
<p>이 문제에 대한 해결 방법 중 하나는 사용량 기반 과금 정책 서비스를 최대한 활용하는 것이었고, 바로 Serverless 방식의 체택이다. 그리고 Microservice 설계 방식을 활용한 재사용이다. 서버를 계속 실행 상태로 유지할 수 없는 환경에서는 소스코드 레포지토리에서 다시 해당 부분을 복사하거나 패키지를 불러와서 코드 레벨에서 재사용이 이루어진다. 하지만 Serverless 방식을 통해 배포된 기능  들은 개발 작업 중이거나 배포된 상황에 상관없이 요청하고 응답을 처리하는 방식으로 이미 구현된 기능들을 재사용한다.</p>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes" href="/publication/blog/tags/aws#footnote-label">​</a></h2>
<ol>
<li id="user-content-fn-1-201878">
<p>Frederick P. Brooks Jr., <a href="http://worrydream.com/refs/Brooks-NoSilverBullet.pdf" target="_blank" rel="noopener noreferrer">No Silver Bullet - Essence and Accident in Software Engineering</a> <a data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref" href="/publication/blog/tags/aws#user-content-fnref-1-201878">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/serverless">serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/aws">aws</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/cloud-computing">cloud-computing</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/publication/blog/codecatalyst-with-lambda">CodeCatalyst로 개발환경 구축하기</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-12-04T00:00:00.000Z">December 4, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://media.licdn.com/dms/image/C5603AQHOMis43w0DAg/profile-displayphoto-shrink_800_800/0/1516981037640?e=1708560000&amp;v=beta&amp;t=ElMa_AwBQlIENJNWQpFo-UWEYR54DkOLQ3eEFv_RfZc" alt="Eunho"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://www.linkedin.com/in/eunho/" target="_blank" rel="noopener noreferrer"><span>Eunho</span></a></div><small class="avatar__subtitle">Software Engineer @ Intellectus</small></div></div></div></div></header><div class="markdown"><p><a href="https://aws.amazon.com/ko/codecatalyst/" target="_blank" rel="noopener noreferrer">Amazon CodeCatalyst</a>는  AWS에서 제공하는 CDE (Cloud Development Environments) 서비스다.
CodeCatalyst는 프로젝트가 AWS의 서비스를 활용해서 설계 됐을 때 좋은 선택이다. 접근 권한 시스템인 AWS IAM 혹은 VPC 와 같은 네트워크 환경 구성을 사용할 수 있기 때문이다.</p>
<p>실제 사례를 통해서 Amazon CodeCatalyst를 이용해서 Serverless 개발환경을 구축하는 것을 단계적으로 알아본다.</p>
<ul>
<li><strong>Devfile: 개발환경 기본 컨테이너 이미지 및 의존성 패키지 설치</strong></li>
<li><strong>codecatalyst/workflows: CI/CD 배포 자둥화 구성</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="devfile-개발환경-기본-컨테이너-이미지-및-의존성-패키지-설치">Devfile: 개발환경 기본 컨테이너 이미지 및 의존성 패키지 설치<a class="hash-link" aria-label="Direct link to Devfile: 개발환경 기본 컨테이너 이미지 및 의존성 패키지 설치" title="Direct link to Devfile: 개발환경 기본 컨테이너 이미지 및 의존성 패키지 설치" href="/publication/blog/tags/aws#devfile-개발환경-기본-컨테이너-이미지-및-의존성-패키지-설치">​</a></h2>
<p>CodeCatayst에서 실질적인 개발을 위한 컴퓨팅 인스턴스를 제공하는 것은 Dev Environment 이다. 여기서는 Github에 생성된 코드 레포지토리를 Clone 해서 개발 인스턴스를 생성하도록 한다. 이 때 사용하는 컨테이너   베이스 이미지를 <a href="https://devfile.io/docs/2.0.0/what-is-a-devfile" target="_blank" rel="noopener noreferrer">Devfile</a>를 이용해서 설정 할 수 있다.  레포지토리에 devfile.yaml 이 최상위 디렉토리(/)에 생성되어 있지 않다면 CodeCatayst의 기본 설정 베이스 이미지를 사용하며, 컨테이너에 미리 설치된 주요 패키지의 정보는 <a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/devenvironment-universal-image.html#devenvironment-universal-runtimes-1.0" target="_blank" rel="noopener noreferrer">AWS 문서</a>에서 확인할 수 있다.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">universal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> AWS Universal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Stack with AWS Universal Tooling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;aws&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;al2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">projectType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aws&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> public.ecr.aws/aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mde/universal</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mountSources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/lib/docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volume</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 16Gi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>본 사례에서는 nodejs 의   버전이 18 이상 필요했기 때문에, devfile.yaml 을 수정해서 레포지토리의 루트 위치에 추가했다.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">schemaVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">universal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">displayName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> AWS Universal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Stack with AWS Universal Tooling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;aws&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;al2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">projectType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aws&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> public.ecr.aws/aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mde/universal</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mountSources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/lib/docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">store</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volume</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 16Gi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>*컨테이너 베이스 이미지의 버전이 latest 인 경우  <a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/devenvironment-universal-image.html#devenvironment-universal-runtimes-1.0" target="_blank" rel="noopener noreferrer">Universal image 1.0 runtime versions</a>을 참조 하며, 위에서 수정된 것과 같이 특정 버전(<a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/devenvironment-universal-image.html#devenvironment-universal-runtimes-3.0" target="_blank" rel="noopener noreferrer">3.0</a>)을 명시하여 이미지를 선택할 수 있다.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="codecatalystworkflows-cicd-배포-자둥화-구성">codecatalyst/workflows: CI/CD 배포 자둥화 구성<a class="hash-link" aria-label="Direct link to codecatalyst/workflows: CI/CD 배포 자둥화 구성" title="Direct link to codecatalyst/workflows: CI/CD 배포 자둥화 구성" href="/publication/blog/tags/aws#codecatalystworkflows-cicd-배포-자둥화-구성">​</a></h2>
<p>변경 사항에 대한 통합과 배포는 팀의 협업 방식에 맞추어 결정해야 한다. 여기서는 기본적으로 main 브랜치에 커밋이 발생하면 자동적으로 특정 AWS 계정 내에 개발 환경에 배포하는 것을 예로 설명한다. workflows는 yaml 파일 형태로 프로젝트의 해당 경로에 <code>.codecatalyst/workflows/</code> 위치 시킨다. 예제 에서는 간단하게 <a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/workflows-add-trigger.html" target="_blank" rel="noopener noreferrer">Triggers</a> 와 <a href="https://docs.aws.amazon.com/codecatalyst/latest/userguide/workflows-actions.html" target="_blank" rel="noopener noreferrer">Actions</a> 두 속성을 이용해서 메인 브랜치에 업데이트 발생 했을 때, 지정된 베이스 이미지에서 명령어를 실행하는 worklow이다.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> onPushToMainRunDeployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">SchemaVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Triggers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PUSH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">Actions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">LambdaFunctionDeployment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> environemt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Connections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">Role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws/build@v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Compute</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> EC2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Sources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> WorkflowSource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">Configuration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">Registry</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ECR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">Image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> public.ecr.aws/aws</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mde/universal</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">Steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> aws sts get</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">caller</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">identity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn run sls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/serverless">serverless</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/aws">aws</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/cloud-native-develop">cloud-native-develop</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/publication/blog/tags/code-catalyst">CodeCatalyst</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/publication/docs/knowledge-to-act/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/publication/blog">Blog</a></li><li class="footer__item"><a href="https://experimenting-to-learn.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Intellectus. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>